<head>
  <title>Health Monitor</title>
</head>

<body>

</body>

<!-- Search Page Templates -->
<template name="home">
  <div id="maindiv">
    {{> navbar}}

    <div id="contentdiv">
      <div id="alertdiv">
        {{> alerts}}
      </div>
    </div>
  </div>
</template>

<template name="alerts">
  {{#each alert_list}}
    <a href="/patient/{{patient_id}}">
      <div class="alerts">
        <button type="button" class="close">X</button>
        {{message}} 
      </div>
    </a>
  {{/each}}
</template>

<!-- /Search Page Templates -->

<!-- Patient Page Templates -->

<template name="patient_page">

  <div id="maindiv">

    <nav id="patientnav" class="navbar navbar-default" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="search.html">Health Monitor</a>
        </div>
      </div>
    </nav>

    <br>

    <div id="contentdiv">
      <input id="backbutton" type="button" class="btn btn-primary" value="Back">
      <table id="patientinfo">
        <tr>
          <th>&nbsp;</th>
          <th>{{first_name}} &nbsp; {{last_name}}</th>
          <th>&nbsp;</th>
        </tr>
        <tr>
          <td>Age: 21</td>
          <td>Blood Type: B-</td>
          <td>Gender: M</td>
        </tr>
      </table>

      <br>

      <div class="fixwidth">
        <div class="btn-group btn-group-justified">
          <div class="btn-group">
            <button id="bp" type="button" class="btn btn-default selected">Blood Pressure</button>
          </div>
          <div class="btn-group">
            <button id="hr" type="button" class="btn btn-default">Heart Rate</button>
          </div>
          <div class="btn-group">
            <button id="w" type="button" class="btn btn-default">Weight</button>
          </div>
        </div>
      </div>

      <br><br>
      <div id="graphs-wrapper">
        <div id="graphs">
          <img id="graph-img" src="images/pressure_year.png" alt="Blood Pressure">
        </div>
        <img id="medicines-img" src="images/medicines_year.png" alt="Medicines">
        <div>

          <br>

          <select id="timeselect" class="form-control">
            <option value="1">1 year</option>
            <option value="2">6 months</option>
          </select>

          <br><br><br>

          <div id="medications">

            <table id="medtable" class="table">
              <thead>
                <tr>
                  <th colspan="5" class="theader bigfont center">Current Medications</th>
                  <td colspan="2" class="theader">
                    <div class="popover-markup"> 
                      <button id="prescribe" type="button popover-markup" class="btn btn-primary trigger" data-placement="top">Prescribe New</button>
                      <div class="head hide">Prescribe New Medication</div>
                      <div class="content hide">
                        <div class="form-group">
                          <input type="text" class="form-control norm" size="56" placeholder="Name of Medication">
                          <input type="text" class="form-control norm" size="4" placeholder="0">
                          <select class="form-control norm">
                            <option value="1">ml</option>
                            <option value="2">mg</option>
                            <option value="3">tbsp</option>
                          </select>
                          per
                          <input type="text" class="form-control norm" size="4" placeholder="0">
                          <select class="form-control norm">
                            <option value="1">hrs</option>
                            <option value="2">days</option>
                            <option value="3">weeks</option>
                          </select>  
                          <input type="text" class="form-control norm" size="56" placeholder="Reason">
                          <textarea class="form-control norm" cols="58" placeholder="Comment..."></textarea> 
                          <button id="addmed" type="button" class="btn btn-default btn-block">Add</button>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>&nbsp;</th>
                  <th>&nbsp;</th>
                  <th>Name</th>
                  <th>Dose</th>
                  <th>Prescribed By</th>
                  <th>Reason</th>
                  <th>Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <a href="#" class="disabled">edit</a>
                  </td>
                  <td>
                    <a href="#" class="disabled">remove</a>
                  </td>
                  <td>Tylenol</td>
                  <td>100mg/24hrs</td>
                  <td>Dr. No</td>
                  <td>Headache</td>
                  <td></td>
                </tr>
                <tr>
                  <td>
                    <a href="#" class="disabled">edit</a>
                  </td>
                  <td>
                    <a href="#" class="disabled">remove</a>
                  </td>
                  <td>Pepto-Bismol</td>
                  <td>30ml/hr</td>
                  <td>Dr. Tran</td>
                  <td>Stomach ache</td>
                  <td></td>
                </tr>
                <tr id="benadryl" class="hide">
                  <td>
                    <a href="#" class="disabled">edit</a>
                  </td>
                  <td>
                    <a href="#" class="disabled">remove</a>
                  </td>
                  <td>Benadryl</td>
                  <td>50mg/24hr</td>
                  <td>Dr. Tran</td>
                  <td>Allergy</td>
                  <td></td>
                </tr>           
              </tbody>
            </table>

          </div>

          <br><br><br>

        </div>
      </div>
    </div>
  </div>

</template>

<!-- /Patient Page Templates -->

<!-- Navbar Template -->

<template name="navbar">
	<nav class="navbar navbar-default" role="navigation">
		<div class="container-fluid">
			<table width="100%" class="fixed-layout">
				<tr>
					<td>
						<div class="navbar-header">
							<a class="brand" href="/">Health Monitor</a>
						</div>
					</td>
					<td>
						<div class="inblock">
						{{#if currentUser}}
							<form class="navbar-form" role="search">
								<div class="input-append">
									<input id="search" type="text" class="nav-search" placeholder="Search" required>
									<button id="go" type="submit" class="btn btn-default">Search</button>
								</div>	
							</form>
						{{/if}}
						</div>
					</td>
					<td>
						<div class="inblock pull-right">
							<ul class="nav navbar-nav">
								<li>
								{{#if currentUser}}
									<a id='logout' href="#">logout</a>
								{{else}} {{#if currentPage '/'}}
									<a href="/signup">sign up</a>
								{{else}}
									<a href="/">log in</a>
								{{/if}} {{/if}}
								</li>
							</ul>
						</div>
					</td>
				</tr>
			</table>
		</div>
	</nav>
</template>

<!-- End Navbar Template -->

<!-- Root Template -->

<template name="root">
	{{#if currentUser}}
		{{> home}}
	{{else}}
		{{> login}}
	{{/if}}
</template>

<!-- End Root Template -->

<!-- Login Template -->

<template name="login">
	{{> navbar}}
	<div class="center">
		<h2>Welcome to Health Monitor!</h2>
		<p>Health Monitor is the easiest way to view your patients' medical data.</p>
		<br>
		<div class="width-400">
			<form id="login-form" action="action">
		    	<div class="controls">
		    		<div id="login-error"></div>
		        	<input type="email" id="login-email" class="form-control mar-bot-15" placeholder="email" required>
			    	<br>
		        	<input type="password" id="login-password" class="form-control mar-bot-15" placeholder="password" required>
		    	</div>
			    <input type="submit" id="login-button" class="btn btn-primary pull-left" value="Log in" />
			    <p class="pull-right">Don't have an account? <a href="/signup">Sign Up!</a></p>
			</form>
		</div>
	</div>
</template>

<!-- End Login Template -->

<!-- Sign Up Template -->

<template name="signup">
	{{> navbar}}
	<div class="center">
		<h2>Welcome to Health Monitor!</h2>
		<p>Health Monitor is the easiest way to view your patients' medical data.</p>
		<br>
		<div class="width-400">
			<form id="signup-form" action="action">
		    	<div class="controls">
		    		<div id="signup-error"></div>
		        	<input type="email" id="signup-email" class="form-control mar-bot-15" placeholder="email" required>
			    	<br>
		        	<input type="password" id="signup-password" class="form-control mar-bot-15" placeholder="password" required>
		        	<br>
		        	<input type="password" id="signup-confirm-password" class="form-control mar-bot-15" placeholder="confirm password" required>
		    	</div>
		    	<input type="submit" id="create-account" class="btn btn-primary pull-left" value="Sign up" />
		    	<p class="pull-right">Already have an account? <a href="/">Log in!</a></p>
		    </form>
		</div>
	</div>
</template>

<!-- End Sign Up Template -->

<!-- Medications Template -->

<template name="medications">
	<table id="medtable" class="table">
		<thead>
			<tr>
				<th colspan="5" class="theader bigfont center">Current Medications</th>
				<td colspan="2" class="theader">
					<div class="popover-markup"> 
						<button id="prescribe" type="button popover-markup" class="btn btn-primary trigger" data-placement="top">Prescribe New</button>
						<div class="head hide">Prescribe New Medication</div>
						<div class="content hide">
							<div class="form-group">
								<form id="medication-form" action="action">
									<input type="text" class="form-control norm" size="56" placeholder="Name of Medication" required>
									<div class="form-horizontal">
										<input type="text" class="form-control norm mar-right" size="4" placeholder="0" required>
										<select class="form-control norm mar-right">
											<option value="ml">ml</option>
											<option value="mg">mg</option>
											<option value="tbsp">tbsp</option>
										</select>
										every
										<input type="text" class="form-control norm mar-right mar-left" size="4" placeholder="0" required>
										<select class="form-control norm">
											<option value="hrs">hrs</option>
											<option value="days">days</option>
											<option value="weeks">weeks</option>
										</select>	 
									</div>
									<input type="text" class="form-control norm" size="56" placeholder="Reason">
									<textarea class="form-control norm" cols="56" placeholder="Comment..."></textarea> 
									<button id="addmed" type="button" class="btn btn-default btn-block">Add</button>
								</form>
							</div>
						</div>
					</div>
				</td>
			</tr>
			<tr>
				<th>&nbsp;</th>
				<th>&nbsp;</th>
				<th>Name</th>
				<th>Dose</th>
				<th>Prescribed By</th>
				<th>Reason</th>
				<th>Comment</th>
			</tr>
		</thead>
		<tbody>
		{{#each current_medications 1}}
			{{> medication}}
		{{/each}}
		</tbody>
	</table>
</template>

<!-- End Medications Template -->

<template name="medication">
	<tr>
		<td><a href="#" class="disabled edit">edit</a></td>
		<td><a href="#" class="disabled discontinue">discontinue</a></td>
		<td>{{name}}</td>
		<td>{{dose}} {{dose_unit}} every {{frequency}} {{frequency_unit}}</td>
		<td>Dr. {{doctor_name doctor_id}}</td>
		<td>{{reason}}</td>
		<td>{{comment}}</td>
	</tr>
</template>
